$breakpoints: (
  's': 'screen and (min-width: 300px)',
  'l': 'screen and (min-width: 700px)',
) !default;

@mixin mq($breakpoint: md) {
    @media #{map-get($breakpoints, $breakpoint)} {
      @content;
    }
}

:root{
    --app-height: 100%;
    --panel_color: white;
    --panel_color_transparent: rgba(255,255,255,0.8);
    @include mq(s){
        --main-red:#ff0000;
        --font-size-large:16px;
        --font-size-middle:13px;
        --font-size-small:10px;
        --panel-padding:20px 15px 20px 30px;
        --panel-padding-close:20px 5px;
        --back-panel-img-size:500px;
        --back-panel-right-shift:-100px;
    }
    @include mq(l){
        --main-red:#d80000;
        --font-size-large:22px;
        --font-size-middle:18px;
        --font-size-small:14px;
        --panel-padding:40px 30px 40px 50px;
        --panel-padding-close:40px 10px;
        --back-panel-img-size:800px;
        --back-panel-right-shift:-200px;
    }
}

.pc{
    display: none;
}
.mobile{
    display: none;
}


#info-bar{
    z-index:102;
    position: fixed;
    bottom:unset;
    top:45px;
    right:180px;
    text-align: right;
    font-family: 'Bebas Neue', cursive;
    letter-spacing: 2px;
    color: white;
    

    #slide-no{
        transform-origin: calc(100% + 105px) 20px;
        transform: rotate(90deg);
        transition: 0.5s 0.3s;
        &.roll{
            transform: rotate(0deg);
        }
    }
    #slide-title{
        transform-origin: calc(100% + 105px) 20px;
        transform: rotate(90deg);
        transition: 0.5s;
        &.roll{
            transform: rotate(0deg);
        }
    }
}


#main-slide{
    width:100vw;
    height:100vh;
    height: 100vh;
    height: var(--app-height);
    -ms-overflow-style: none;
    scrollbar-width: none;
    overflow-x: hidden;
    overflow-y: scroll;
    overscroll-behavior:none;
    scroll-snap-type: y proximity;
    perspective: 200px; //for paralax
}
#main-slide::-webkit-scrollbar{
    display: none;
}

.slide-frame{
    background: var(--main-red);
    z-index:1;
    width:100vw;
    min-height:100vh;
    scroll-snap-align: start;
    font-family:Arial, Helvetica, sans-serif;
    
    .slide{
        position: relative;
        display: flex;
        flex-direction: column;
        width:inherit;
        max-width: 700px;
        margin:0 auto;
        z-index:2;
        padding:150px 20px 20px 20px;
        
        &.parallel{
            flex-direction: row;
            .panel{
                width:50%;
                padding: var(--panel-padding-close);
            }
        }
        //transform: translate3d(0,0,0); //iOS safariのクソバグを抑止
        .panel{
            position: relative;
            margin:20px 20px 75px 20px;
            padding:var(--panel-padding);
            color:var(--main-red);
            background: var(--panel_color);
            z-index: 10;
            &.transparent{
                background: var(--panel_color_transparent);
            }
            &::before{
                position: absolute;
                border-top: solid 1px var(--panel_color);
                border-left: solid 1px var(--panel_color);
                content: '';
                top:-15px;left: -15px;
                width: 50px;
                height: calc(100% + 15px);
            }
            &::after{
                position: absolute;
                content: '';
                background: var(--panel_color);
                bottom: 0;right: -20px;
                width: 10px;
                height: 100%;
            }
            p{
                font-size: var(--font-size-large);
            }
            a{
                color:var(--main-red);
                text-decoration: none;
                &.small{
                    font-size: var(--font-size-small);
                    vertical-align: top;
                    margin:2px;
                }
                i{
                    margin:0px 3px;
                }
            }
            table{
                margin:10px auto;
                width:100%;
                font-size: var(--font-size-middle);
                text-align: center;
            }
            ul{
                font-size: (var(--font-size-large));
                li{
                    margin-bottom: 15px;
                }
            }
            &.none{
                display: none;
            }

        }
        .back-panel{
            position: absolute;
            transform: translateZ(100px) scale(0.4);
            right:var(--back-panel-right-shift);
            z-index:5; 
            .fa-n2f-opt{
                font-size: var(--back-panel-img-size);
                color: var(--panel_color)
            }
            img{
                width: var(--back-panel-img-size);
            }
        }
        .image-panel{
            position: fixed;
            
            transform: translateZ(100px) scale(0.4);
            z-index:5;
            
        }
        
    }
    &:nth-of-type(2n){
        background: blue;
        .slide .panel{color: blue;}
        
    }
    
}


